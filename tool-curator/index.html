<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tool Curator</title>
  <style>
    :root{
      --bg: #f6f7f8;         /* app background */
      --panel: #ffffff;      /* cards/panels */
      --ink: #1f2937;        /* primary text */
      --muted: #6b7280;      /* secondary text */
      --line: #e5e7eb;       /* borders/dividers */
      --accent: #111827;     /* primary accent (still neutral/mono) */
      --accent-weak:#2b2f36; /* hover state for accent */
      --field:#f9fafb;       /* input bg */
      --field-line:#d1d5db;  /* input border */
      --radius: 8px;
    }

    *{ box-sizing: border-box; margin:0; padding:0; }

    body{
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background: var(--bg);
      color: var(--ink);
      min-height: 100vh;
      padding: 20px;
    }

    .container{ max-width: 1200px; margin: 0 auto; }

    /* Header */
    .header{ text-align: center; margin-bottom: 16px; color: var(--ink); }
    .header h1{
      font-size: 1.75rem;
      font-weight: 700;
      letter-spacing: -0.01em;
      margin-bottom: 6px;
    }
    .header p{
      font-size: 0.95rem;
      color: var(--muted);
    }

    /* Controls / Panel */
    .controls{
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: var(--radius);
      padding: 14px;
      margin-bottom: 16px;
    }
    .controls h2{
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    /* Flat inputs */
    .form-row{
      display:grid;
      grid-template-columns: 2fr 2fr 1fr 120px;
      gap:8px;
      margin-bottom: 8px;
      align-items:end;
    }
    input, select{
      padding: 10px;
      border: 1px solid var(--field-line);
      background: var(--field);
      border-radius: 6px;
      font-size: 13px;
      color: var(--ink);
      outline: none;
    }
    input:focus, select:focus{
      border-color: var(--accent);
      box-shadow: none; /* flat */
    }

    /* Buttons (flat) */
    .btn{
      padding: 10px 12px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      border: 1px solid var(--line);
      background: #f3f4f6;
      color: var(--ink);
    }
    .btn:hover{ background:#eeeeee; }

    .btn-primary{
      background: var(--accent);
      color: #fff;
      border: 1px solid var(--accent);
    }
    .btn-primary:hover{ background: var(--accent-weak); }

    .btn-danger{
      background: #ef4444;
      color: #fff;
      border-color: #ef4444;
    }
    .btn-danger:hover{ background:#dc2626; }

    .btn-small{ padding: 6px 8px; font-size: 11px; border-radius: 4px; }

    /* Search & filter */
    .search-filter{
      display:grid;
      grid-template-columns: 1fr auto;
      gap:8px;
      margin-bottom: 10px;
    }

    /* Stats (flat cards) */
    .stats{
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(100px,1fr));
      gap:8px;
      margin-bottom: 10px;
    }
    .stat-card{
      background: var(--panel);
      border:1px solid var(--line);
      border-radius: 6px;
      text-align:center;
      padding:10px;
    }
    .stat-number{ font-size:1.2rem; font-weight:700; display:block; }
    .stat-label{ font-size:0.75rem; color: var(--muted); }

    /* Category columns */
    .categories{
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(380px,1fr));
      gap:16px;
    }
    .category{
      background: var(--panel);
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding: 18px;
      transition: background 0.15s ease;
    }
    .category:hover{ background:#fafafa; }
    .category h3{
      font-size:1.05rem;
      margin-bottom: 14px;
      display:flex;
      align-items:center;
      gap:10px;
      color: var(--ink);
    }
    .category-icon{ font-size:1.2rem; }

    /* Bookmark rows */
    .bookmarks{ display:grid; gap:10px; }
    .bookmark{
      background: #fafafa;
      border:1px solid var(--line);
      border-radius: 6px;
      padding: 12px;
      transition: background 0.1s ease, border-color 0.1s ease;
    }
    .bookmark:hover{
      background:#f5f5f5;
      border-color:#dcdfe4;
    }

    .bookmark-header{
      display:flex;
      justify-content: space-between; /* fixed */
      align-items:flex-start;
      gap:10px;
      margin-bottom:6px;
    }
    .bookmark-title{
      font-weight: 600;
      font-size: 1rem;
      color: var(--ink);
      text-decoration: none;
    }
    .bookmark-title:hover{ text-decoration: underline; }

    .bookmark-description{
      color: var(--muted);
      font-size: 0.9rem;
      margin-bottom: 6px;
    }
    .bookmark-url{
      font-size: 0.82rem;
      color: #4b5563;
      word-break: break-all;
    }

    .import-export{
      display:flex;
      gap:8px;
      align-items:center;
      margin-top:10px;
      padding-top:10px;
      border-top:1px solid var(--line);
    }

    .hidden{ display:none !important; }
    #fileInput{ display:none; }

    @media (max-width: 900px){
      .form-row{ grid-template-columns: 1fr; }
      .search-filter{ grid-template-columns: 1fr; }
      .categories{ grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üîñ Tool Curator</h1>
      <p>Your curated collection of web tools for development and content creation</p>
    </div>

    <div class="controls">
      <h2>Add New Tool</h2>

      <!-- Keep form intact -->
      <div class="form-row">
        <input type="text" id="nameInput" placeholder="Tool Name" required />
        <input type="url" id="urlInput" placeholder="https://example.com" required />
        <select id="categoryInput">
          <option value="Development">üîß Development</option>
          <option value="Design">üé® Design</option>
          <option value="Content">üìù Content</option>
          <option value="Analytics">üìä Analytics</option>
          <option value="Productivity">‚ö° Productivity</option>
          <option value="Testing">üß™ Testing</option>
          <option value="Other">üìÇ Other</option>
        </select>
        <button class="btn btn-primary" onclick="addBookmark()">Add Tool</button>
      </div>

      <div class="form-row">
        <input type="text" id="descriptionInput" placeholder="Brief description (optional)" style="grid-column: 1 / -1;" />
      </div>

      <div class="stats">
        <div class="stat-card">
          <span class="stat-number" id="totalTools">0</span>
          <span class="stat-label">Total Tools</span>
        </div>
        <div class="stat-card">
          <span class="stat-number" id="totalCategories">0</span>
          <span class="stat-label">Categories</span>
        </div>
      </div>

      <div class="search-filter">
        <input type="text" id="searchInput" placeholder="üîç Search tools..." onkeyup="filterBookmarks()" />
        <select id="categoryFilter" onchange="filterBookmarks()">
          <option value="">All Categories</option>
        </select>
      </div>

      <div class="import-export">
        <button class="btn" onclick="exportData()">üì§ Export Data</button>
        <input type="file" id="fileInput" accept=".json" onchange="importData(event)" />
        <button class="btn" onclick="document.getElementById('fileInput').click()">üì• Import Data</button>
        <button class="btn" onclick="clearAllData()">üóëÔ∏è Clear All</button>
      </div>
    </div>

    <div class="categories" id="categoriesContainer"></div>
  </div>

  <script>
    let bookmarks = [];

    const categoryIcons = {
      'Development': 'üîß',
      'Design': 'üé®',
      'Content': 'üìù',
      'Analytics': 'üìä',
      'Productivity': '‚ö°',
      'Testing': 'üß™',
      'Other': 'üìÇ',
      // If your sample data uses categories outside the select (e.g., Cloud, 3rd Party API)
      'Cloud': '‚òÅÔ∏è',
      '3rd Party API': 'üß©'
    };

    window.onload = function () {
      loadSampleData();
      renderBookmarks();
      updateStats();
    };

    function loadSampleData() {
      const sampleBookmarks = [
        { id: Date.now() + 1, name: 'GitHub', url: 'https://github.com', category: 'Development', description: 'Version control and collaboration'},
        { id: Date.now() + 2, name: 'Figma', url: 'https://figma.com', category: 'Design', description: 'Collaborative design tool'},
        { id: Date.now() + 3, name: 'Notion', url: 'https://notion.so', category: 'Productivity', description: 'All-in-one workspace'},
        { id: Date.now() + 4, name: 'Google Analytics', url: 'https://analytics.google.com', category: 'Analytics', description: 'Web analytics service'},
        { id: Date.now() + 5, name: 'DigitalOcean', url: 'https://www.digitalocean.com/', category: 'Cloud', description: 'Cloud'},
        { id: Date.now() + 6, name: 'FinancialModelingPrep', url: 'https://site.financialmodelingprep.com/', category: '3rd Party API', description: 'API for stock data'},
        { id: Date.now() + 7, name: 'Cloudflare', url: 'https://dash.cloudflare.com/', category: 'Cloud', description: 'Cloud security'}
      ];
      if (bookmarks.length === 0) bookmarks = sampleBookmarks;
    }

    function addBookmark() {
      const name = document.getElementById('nameInput').value.trim();
      const url = document.getElementById('urlInput').value.trim();
      const category = document.getElementById('categoryInput').value;
      const description = document.getElementById('descriptionInput').value.trim();

      if (!name || !url) {
        alert('Please fill in both name and URL fields.');
        return;
      }

      try {
        new URL(url);
      } catch {
        alert('Please enter a valid URL (including https://)');
        return;
      }

      const bookmark = { id: Date.now(), name, url, category, description };
      bookmarks.push(bookmark);

      document.getElementById('nameInput').value = '';
      document.getElementById('urlInput').value = '';
      document.getElementById('descriptionInput').value = '';

      renderBookmarks();
      updateStats();
    }

    function removeBookmark(id) {
      if (confirm('Are you sure you want to remove this tool?')) {
        bookmarks = bookmarks.filter(b => b.id !== id);
        renderBookmarks();
        updateStats();
      }
    }

    function renderBookmarks() {
      const container = document.getElementById('categoriesContainer');
      const searchTerm = (document.getElementById('searchInput').value || '').toLowerCase();
      const selectedCategory = document.getElementById('categoryFilter').value;

      const filtered = bookmarks.filter(b => {
        const matchesSearch =
          b.name.toLowerCase().includes(searchTerm) ||
          (b.description || '').toLowerCase().includes(searchTerm) ||
          b.url.toLowerCase().includes(searchTerm);

        const matchesCategory = !selectedCategory || b.category === selectedCategory;
        return matchesSearch && matchesCategory;
      });

      const groups = {};
      filtered.forEach(b => {
        if (!groups[b.category]) groups[b.category] = [];
        groups[b.category].push(b);
      });

      updateCategoryFilter();

      container.innerHTML = '';
      Object.keys(groups).sort().forEach(cat => {
        const div = document.createElement('div');
        div.className = 'category';
        const icon = categoryIcons[cat] || 'üìÇ';

        div.innerHTML = `
          <h3>
            <span class="category-icon">${icon}</span>
            ${cat}
            <span style="margin-left:auto;font-size:.9rem;opacity:.7;">${groups[cat].length}</span>
          </h3>
          <div class="bookmarks">
            ${groups[cat].map(b => `
              <div class="bookmark">
                <div class="bookmark-header">
                  <a class="bookmark-title" href="${b.url}" target="_blank" rel="noopener noreferrer">${b.name}</a>
                  <div class="bookmark-actions">
                    <button class="btn btn-danger btn-small" onclick="removeBookmark(${b.id})">Remove</button>
                  </div>
                </div>
                ${b.description ? `<div class="bookmark-description">${b.description}</div>` : ''}
                <div class="bookmark-url">${b.url}</div>
              </div>
            `).join('')}
          </div>
        `;

        container.appendChild(div);
      });

      if (Object.keys(groups).length === 0) {
        container.innerHTML = `
          <div style="text-align:center;color:#6b7280;font-size:1rem;padding:36px;">
            No tools found. Try a different search term or add some tools!
          </div>`;
      }
    }

    function updateCategoryFilter() {
      const filter = document.getElementById('categoryFilter');
      const current = filter.value;

      const cats = [...new Set(bookmarks.map(b => b.category))].sort();
      filter.innerHTML = '<option value="">All Categories</option>';
      cats.forEach(c => {
        const opt = document.createElement('option');
        opt.value = c;
        opt.textContent = `${categoryIcons[c] || 'üìÇ'} ${c}`;
        filter.appendChild(opt);
      });

      filter.value = current;
    }

    function updateStats() {
      document.getElementById('totalTools').textContent = bookmarks.length;
      document.getElementById('totalCategories').textContent = new Set(bookmarks.map(b => b.category)).size;
    }

    function filterBookmarks(){ renderBookmarks(); }

    function exportData() {
      const dataStr = JSON.stringify(bookmarks, null, 2);
      const blob = new Blob([dataStr], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'developer-tools-backup.json';
      a.click();
      URL.revokeObjectURL(url);
    }

    function importData(e) {
      const file = e.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = (evt) => {
        try {
          const imported = JSON.parse(evt.target.result);
          if (Array.isArray(imported)) {
            if (confirm(`This will replace your current ${bookmarks.length} tools with ${imported.length} imported tools. Continue?`)) {
              bookmarks = imported.map((b, i) => ({ ...b, id: b.id || (Date.now() + i) }));
              renderBookmarks();
              updateStats();
              alert('Data imported successfully!');
            }
          } else {
            alert('Invalid file format. Please select a valid backup file.');
          }
        } catch {
          alert('Error reading file. Please make sure it\'s valid JSON.');
        }
      };
      reader.readAsText(file);
      e.target.value = '';
    }

    function clearAllData() {
      if (confirm('Are you sure you want to delete all tools? This cannot be undone.')) {
        bookmarks = [];
        renderBookmarks();
        updateStats();
      }
    }

    document.addEventListener('DOMContentLoaded', function () {
      ['nameInput','urlInput','descriptionInput'].forEach(id => {
        const el = document.getElementById(id);
        el && el.addEventListener('keypress', e => {
          if (e.key === 'Enter') addBookmark();
        });
      });
    });
  </script>
</body>
</html>
